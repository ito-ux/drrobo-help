@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   Base
========================================================= */
body {
  @apply font-body;
  text-underline-offset: 0.3em;
}

html {
  scrollbar-gutter: stable;
  overflow-y: scroll;
}

/* =========================================================
   Entry Content (microCMS rich editor output)
   ※本文は .entry-content に限定（TOCや他ページ巻き込まない）
========================================================= */

/* 段落 */
.entry-content p {
  @apply mb-4 leading-relaxed;
}

/* リンク */
.entry-content a {
  @apply underline text-blue-600 hover:underline hover:text-blue-800 transition;
  text-decoration-color: currentColor;
  text-decoration-thickness: 1px;
}

/* 画像とキャプション */
.entry-content figure {
  @apply mb-4;
}

.entry-content figure figcaption {
  @apply leading-relaxed text-sm text-black/50 italic pt-1;
}

/* 区切り線（hr） */
.entry-content hr {
  @apply border-t border-gray-300 my-6;
}

/* 引用（blockquote） */
.entry-content blockquote {
  @apply border-l-4 border-gray-400 pl-4 italic text-gray-600 my-4;
}

/* テーブル */
.entry-content table {
  @apply w-full border-collapse border border-gray-300 text-sm my-6;
}

.entry-content table p {
  @apply mb-0;
}

.entry-content th,
.entry-content td {
  @apply border border-gray-300 px-4 py-2;
}

.entry-content th {
  @apply bg-gray-100 font-semibold text-gray-800;
}

/* 箇条書き（ul/li, ol/li） */
.entry-content ul {
  @apply list-disc pl-5 mb-4;
}

.entry-content ol {
  @apply list-decimal pl-5 mb-4;
}

.entry-content li {
  @apply mb-2 leading-relaxed;
}

/* コードブロック（fileName, pre, code） */
.entry-content span.fileName {
  @apply inline-block bg-gray-600 text-white text-xs px-3 py-1 font-mono rounded-t-md;
}

.entry-content pre {
  @apply p-4 overflow-x-auto;
}

.entry-content code {
  @apply bg-gray-200 text-gray-800 px-1 py-0.5 rounded text-sm font-mono;
}

.entry-content pre code {
  @apply bg-transparent text-inherit p-0;
}

/* 本文サイズ：気持ちだけ小さめ */
.entry-content {
  font-size: 0.94rem;
}

/* =========================================================
   Callout
========================================================= */
.callout {
  position: relative;
  border-radius: 6px;
  padding: 14px 16px 16px;
  margin: 20px 0;
  border: 1px solid rgba(0, 0, 0, .08);
  font-size: 0.85em !important;
  line-height: 1.7;

  margin-left: 8px;
  margin-right: 8px;
}

/* 枠内の最後の要素の余白を消す */
.callout > :last-child {
  margin-bottom: 0;
}

/* Tips */
.callout.tips {
  background: #e6f6ff;
  border-color: rgba(11, 74, 162, .18);
}
.callout.tips::before {
  content: "Tips";
  display: block;
  margin-bottom: 8px;
  font-weight: 800;
  font-size: 1.3em !important;
  color: #0b4aa2;
}

/* Caution */
.callout.caution {
  background: #fff1e6;
  border-color: rgba(180, 35, 24, .20);
}
.callout.caution::before {
  content: "注意";
  display: block;
  margin-bottom: 8px;
  font-weight: 800;
  font-size: 13px;
  color: #b42318;
}

/* =========================================================
   Command Name Badge (inline)
========================================================= */
.command_name {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 2px 8px 3px;
  margin: 0 6px;
  border-radius: 2px;
  background: #f3f4f6;
  border: 1px solid rgba(0, 0, 0, .14);
  font-size: .9em;
  font-weight: 600;
  line-height: 1.4;
  white-space: nowrap;
  text-decoration: none;
  color: inherit;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, .08);
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease;
}

.command_name::before {
  content: "›";
  font-size: 1.15em;
  font-weight: 700;
  opacity: .65;
  line-height: 1;
}

.command_name:hover {
  background: #e9ecef;
  box-shadow: 2px 2px 6px rgba(0, 0, 0, .10);
  transform: translateY(1px);
}

.command_name:active {
  transform: translateY(0);
  box-shadow: 1px 1px 3px rgba(0, 0, 0, .08);
}

/* =========================================================
   Images (entry-content only)
   ※重複してた .prose img と .entry-content img は一本化
========================================================= */
.entry-content img {
  width: auto;
  max-width: min(600px, 100%);
  height: auto;
  display: block;
  margin: 16px auto;
  cursor: zoom-in;

  border-radius: 12px;
  border: 1px solid rgba(15, 23, 42, 0.14);
  box-shadow: 0 2px 6px rgba(0, 0, 0, .08);
  background: #fff;
}

/* Overlay */
.img-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.75);
  z-index: 1000;

  display: flex;
  align-items: center;
  justify-content: center;
  cursor: zoom-out;
}

.img-overlay img {
  max-width: 90vw;
  max-height: 90vh;
  border-radius: 8px;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
}

/* =========================================================
   Article Page Headings (docs/news ONLY)
   scope: body.is-article-page .doc-article ...
   ※TOCは .doc-article 外なので影響しない
========================================================= */

/* （重要）microCMS本文のh1は基本出ないので触らない
   記事タイトルh1（BlogPost側の手書き）だけ装飾 */
.is-article-page .doc-article header h1 {
  font-size: 2.3rem;
  line-height: 1.3;
  margin: 0 0 0.6rem;
  color: #0f172a;
  position: relative;
}

/* タイトル下線（概要と同じ濃さ・少し丸め） */
.is-article-page .doc-article header h1::after {
  content: "";
  display: block;
  height: 1px;
  width: 100%;
  margin-top: 0.7rem;
  background: #dedede;
  border-radius: 9999px;
}

/* 本文見出し（H2/H3）は entry-content 内だけ */
.is-article-page .doc-article .entry-content h2 {
  display: flex;
  align-items: center;
  gap: 0.6rem;

  font-size: 1.4rem;
  font-weight: 700;
  margin: 3rem 0 1.2rem;
  color: #0f172a;
}

.is-article-page .doc-article .entry-content h2::before {
  content: "";
  width: 6px;
  height: 1.15em;           /* 高さズレしにくい値 */
  background: #f97316;
  border-radius: 9999px;    /* “丸め”統一 */
}

/* H3：グレー下地＋オレンジ線（あなたの“いけてる下線”を復活） */
.is-article-page .doc-article .entry-content h3 {
  position: relative;
  padding-bottom: 12px;
  margin: 28px 0 18px;
  font-size: 1.05rem;
  font-weight: 600;
  color: #1e293b;
}

/* グレー線（下地） */
.is-article-page .doc-article .entry-content h3::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 1px;
  background: #cdcecf;
  z-index: 1;
}

/* オレンジ線（上に重ねる） */
.is-article-page .doc-article .entry-content h3::before {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  height: 3px;
  width: 180px;
  background: #f97316;
  z-index: 2;
  border-radius: 9999px;
}

/* 記事本文の h4：濃いグレー＋太字 */
.entry-content h4 {
  font-size: 0.95rem;      /* h3 より一段下 */
  font-weight: 700;        /* 太字 */
  color: #374151;          /* gray-700 */
  margin: 1.5rem 0 0.75rem;
}


/* 記事本文だけ左インデント（表・リスト・コード含め全部） */
.is-article-page .doc-article .entry-content {
  padding-left: 0.75rem !important;
  margin-bottom: 1rem;
  line-height: 1.55;
  font-size: 0.95rem;
  
}

.entry-content ul {
    margin-left: 0.5rem;
}

.entry-content li {
    margin-bottom: 0.1rem;
}